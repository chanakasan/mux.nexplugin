#!/usr/bin/env bash

set -e

main() {
  local a1="$1"
  local fn=_$a1
  if [ -z "$a1" ]; then
    tmux-ensure
  elif [[ $(type -t $fn ) == function ]]; then
    $fn "${@:2}"
  else
    _mux_start $a1
  fi
}

_desk() {
  local name="desktop"
  local session_exist=$(tmux-session-exist $name)
  if [ "$session_exist" == "true" ]; then
    tmux-attach $name
  else
    tmux-create-desktop
  fi
}

_list() {
  tmux list-sessions
}

_ex() {
  _example
}

_example() {
  local example=$nex_mux_path/src/example.sh
  vi $example
}

_create() {
  local name=$(tmux-new-session-name)
  tmux-aoc $name
}

main "$@"
